<% content_for :title, @movie.title %>

<div class="header-container">
  <h1><%= @movie.title %></h1>
  <!-- Preserve current sort/direction when going "Home" -->
  <%= link_to "Home",
              movies_path(sort: @sort, direction: @direction),
              class: "btn btn-primary" %>
</div>

<p class="notice"><%= notice %></p>

<div class="movie-details-container">
  <div class="movie-details">
    <h2>Movie Details</h2>
    <p><strong>Title:</strong> <%= @movie.title %></p>
    
    <p><strong>Release Date:</strong>
      <% if @movie.release_date.present? %>
        <%= @movie.release_date.strftime("%B %d, %Y") %>
      <% else %>
        N/A
      <% end %>
    </p>
    
    <p><strong>Rating:</strong> <%= @movie.rating %></p>
    
    <p><strong>Description:</strong> <%= @movie.description.presence || "N/A" %></p>
  </div>
</div>

<div class="navigation-links">
  <!-- Preserve current sort/direction when editing -->
  <%= link_to "Edit",
              edit_movie_path(@movie, sort: @sort, direction: @direction),
              class: "btn btn-primary" %>

  <!-- Preserve current sort/direction when deleting -->
  <%= button_to "Delete",
                movie_path(@movie, sort: @sort, direction: @direction),
                method: :delete,
                class: "btn btn-danger",
                data: { confirm: "Are you sure you want to delete this movie?" } %>
</div>