<p style="color: green; font-size: 1.2em; margin-bottom: 20px; text-align: center;"><%= notice %></p>

<div class="header-container">
  <h1>Movies</h1>
  <div class="filter-actions">
    <div class="sort-container">
      <label for="sort">Sort by:</label>
      <select id="sort" onchange="window.location.href=this.value">
        <option value="<%= movies_path(sort: 'title', direction: 'asc') %>" <%= params[:sort] == 'title' && params[:direction] == 'asc' ? 'selected' : '' %>>Title (A-Z)</option>
        <option value="<%= movies_path(sort: 'title', direction: 'desc') %>" <%= params[:sort] == 'title' && params[:direction] == 'desc' ? 'selected' : '' %>>Title (Z-A)</option>
        <option value="<%= movies_path(sort: 'rating', direction: 'asc') %>" <%= params[:sort] == 'rating' && params[:direction] == 'asc' ? 'selected' : '' %>>Rating (G to R)</option>
        <option value="<%= movies_path(sort: 'rating', direction: 'desc') %>" <%= params[:sort] == 'rating' && params[:direction] == 'desc' ? 'selected' : '' %>>Rating (R to G)</option>
        <option value="<%= movies_path(sort: 'release_date', direction: 'asc') %>" <%= params[:sort] == 'release_date' && params[:direction] == 'asc' ? 'selected' : '' %>>Release Date (Oldest)</option>
        <option value="<%= movies_path(sort: 'release_date', direction: 'desc') %>" <%= params[:sort] == 'release_date' && params[:direction] == 'desc' ? 'selected' : '' %>>Release Date (Newest)</option>
      </select>
    </div>
    <%= link_to "+", new_movie_path, class: "add-movie-btn" %>
  </div>
</div>

<div id="movies">
  <% @movies.each do |movie| %>
    <%= link_to movie_path(movie), class: "movie-card-link" do %>
      <div class="movie-card">
        <div class="movie-info">
          <h2 title="<%= movie.title %>"><%= movie.title %></h2>
          <p><strong>Release Date:</strong> <%= movie.release_date.strftime("%b %d, %Y") %></p>
          
        </div>
        <div class="movie-actions">
          <span class="rating-badge" style="background-color: <%= movie.rating == 'R' ? '#f44336' : (movie.rating == 'PG-13' ? '#FF9800' : '#4CAF50') %>;">
            <%= movie.rating %>
          </span>
        </div>
      </div>
    <% end %>
  <% end %>
</div>